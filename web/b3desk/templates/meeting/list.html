<div class="list-meeting-rooms">
    <div class="fr-container">
        <div class="list-meeting-rooms-title">
            <h2>{% trans %}Mes salles de {{ some_meetings }}{% endtrans %}</h2>
            {% if can_create_meetings == true %}
            <div>
                <a href="{{ url_for("meetings.new_meeting") }}" class="fr-link fr-link--icon-left fr-icon-add-line">
                    Créer une salle permanente
                </a>
            </div>
            {% endif %}
        </div>
    </div>
    {% if not can_create_meetings %}
    <div class="fr-highlight error">
        <p class="">
        <i class="ri-error-warning-line"></i>
        {% trans %}Vous avez atteint la limite des {{ max_meetings_per_user }} {{ meeting_label }}s. Pour pouvoir en créer davantage, veuillez supprimer des {{ meeting_label }}s inactives.{% endtrans %}
        </p>
    </div>
    {% endif %}

    {% if not user.meetings %}
    <div class="fr-grid-row">
        <div class="fr-col-md-4 image-no-meetings">
        </div>
        <div class="fr-col-md-8">
            <p>Vous n'avez pas encore créé de salle de {{ some_meetings }} permanente. Vous pouvez créer votre salle permanente ou accéder à une salle temporaire plus bas.</p>
            <a href="{{ url_for("meetings.new_meeting") }}" class="fr-btn fr-btn--icon-left fr-icon-add-line">
                Créer une salle permanente
            </a>
            <p class="fr-mt-2w fr-text--sm">
            En créant une salle de réunion permanente, vous pouvez créer une base de documents permanente, choisir d'ajouter une salle d'attente, de bloquer les micros et les caméras ouverts ou fermés, d'afficher ou non les espaces de discussions privés et publiques, ou encore accéder aux enregistrements à la fin de votre réunion.
            </p>
        </div>
    </div>
    {% else %}
    <p>Trier par :</p>
    <ul class="fr-tags-group">
        <li>
            {% if order_key == "created_at" %}
            <a href="{{ url_for("public.welcome") }}?order-key=created_at&reverse-order={{ 'false' if reverse_order == True else 'true'}}&favorite={{'true' if favorite == True else 'false'}}" 
            class="fr-tag fr-tag--icon-left {{ 'fr-fi-arrow-down-line' if reverse_order == False else 'fr-fi-arrow-up-line' }}"
            aria-pressed="true"
            target="_self">Date</a>
            {% else %}
            <a href="{{ url_for("public.welcome") }}?order-key=created_at&reverse-order=true&favorite={{'true' if favorite == True else 'false'}}" 
            class="fr-tag"
            target="_self">Date</a>
            {% endif %}
        </li>
        <li>
            {% if order_key == "name" %}
            <a href="{{ url_for("public.welcome") }}?order-key=name&reverse-order={{ 'true' if reverse_order == False else 'false'}}&favorite={{'true' if favorite == True else 'false'}}" 
            class="fr-tag fr-tag--icon-left {{ 'fr-fi-arrow-down-line' if reverse_order == False else 'fr-fi-arrow-up-line' }}"
            aria-pressed="true"
            target="_self">Alphabétique</a>
            {% else %}
            <a href="{{ url_for("public.welcome") }}?order-key=name&reverse-order=false&favorite={{'true' if favorite == True else 'false'}}" 
            class="fr-tag"
            target="_self">Alphabétique</a>
            {% endif %}
        </li>
        <li>
            <a href="{{ url_for("public.welcome") }}?order-key={{order_key}}&reverse-order={{'true' if reverse_order == True else 'false'}}&favorite={{'false' if favorite == True else 'true'}}" 
            class="fr-tag"
            aria-pressed="{{'true' if favorite == True else 'false'}}"
            target="_self">Favoris</a>
        </li>
    </ul>
    {% for meeting in meetings %}
    <div class="fr-grid-row">
        <div class="fr-col meeting-room">
            <div class="fr-grid-row">
                <div class="fr-col-11">
                    <h3 class="fr-text--lg fr-mt-1-5v">{{ meeting.name }}</h3>   
                </div>
                <div class="fr-col-1">
                <button onclick="location.href='{{ url_for("meetings.meeting_favorite") }}?order-key={{order_key}}&reverse-order={{reverse_order}}&favorite={{favorite}}&id={{meeting.id}}&meeting-favorite={{'true' if meeting.favorite == False else 'false'}}'" class="fr-btn fr-btn--tertiary-no-outline {{'fr-icon-star-line' if meeting.favorite == False else 'fr-icon-star-fill'}}" title="{{'Ajouter aux favoris' if meeting.favorite == False else 'Retirer des favoris'}}">
                    Label bouton
                </button>
            </div>
            </div>
            {% include 'meeting/row.html' %}
        </div>
    </div>
    {% include 'meeting/modals/delete.html' %}
    {% include 'meeting/modals/invite.html' %}
    {% include 'meeting/modals/recordings.html' %}
    {% endfor %}
    {% if meetings|length and config.get("SATISFACTION_POLL_URL") %}
    <iframe id="iframe-poll"
        frameborder=0
        src="{{ config.get("SATISFACTION_POLL_URL") }}"
        height="500" scrolling="no"
        sandbox="allow-scripts allow-same-origin allow-forms"></iframe>
    {% endif %}
</div>
{% endif %}
